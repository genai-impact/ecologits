{% extends "main.html" %}
{% block tabs %}
{{ super() }}

<style>
    .mdx-container {
        display: flex;
        justify-content: center;
        align-items: center;
        padding-left: 1rem;
        padding-right: 1rem;
    }

    .mdx-hero {
        text-align: center;
        margin-top: 6rem;
    }

    .mdx-hero__image {
        max-width: 80%;
        margin: 0 auto;
    }

    .mdx-hero__content {
        max-width: 600px;
        margin: 0 auto;
    }

    .mdx-hero__content .subtitle {
        margin: 0 auto;
        font-size: 1rem;
        letter-spacing: 0.01rem;
    }

    .mdx-hero__content h2 {
        max-width: 460px;
    }

    .md-team {
        margin-top: 1rem;
    }

    .mdx-hero__image img {
        content: url("../assets/logo_light.png");
    }

    [data-md-color-scheme="slate"] {
        .mdx-hero__image img {
            content: url("../assets/logo_dark.png");
        }
    }

    .project-cards {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1rem;
        margin-top: 6rem;
        margin-bottom: 4rem;
        max-width: 1000px;
    }

    .project-card {
        border-radius: 12px;
        padding: 1rem;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        border: 1px solid #e0e0e0;
        display: flex;
        flex-direction: column;
        height: 100%;
    }

    .project-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    .project-card.calculator {
        grid-row: span 2;
    }

    .project-card-header {
        display: flex;
        align-items: center;
        margin-bottom: 0.8rem;
    }

    .project-card-header h3 {
        margin: 0;
        font-size: 1rem;
        font-weight: bold;
        color: var(--md-typeset-color);
    }

    .project-card p {
        margin: 0.5rem 0;
    }

    .project-card .card-content {
        flex-grow: 1;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
    }

    .project-card img {
        margin: 0 auto;
        border-radius: 6px;
        max-width: 100%;
    }

    .code-snippet-container {
        position: relative;
        /*margin-top: auto;*/
        /*margin: 0;*/
    }

    .project-card .code-snippet {
        background-color: #f4f4f4;
        border-radius: 6px;
        padding: 0.5rem 2.5rem 0.5rem 0.5rem;
        font-family: monospace;
        word-break: break-all;
        text-align: left;
        font-size: 0.9rem;
    }

    .copy-button {
        position: absolute;
        top: 50%;
        right: 0.5rem;
        transform: translateY(-50%);
        background: none;
        border: none;
        cursor: pointer;
        padding: 0.25rem;
        opacity: 0.6;
        transition: opacity 0.3s ease;
    }

    .copy-button:hover {
        opacity: 1;
    }

    @media screen and (max-width: 768px) {
        .mdx-hero__content .subtitle {
            font-size: 0.8rem;
            max-width: 70%;
            font-weight: 700;
        }

        .project-cards {
            grid-template-columns: 1fr;
        }

        .project-card.calculator {
            grid-row: auto;
        }
    }

    [data-md-color-scheme="slate"] {
        .project-card {
            border-color: #484848;
        }

        .project-card .code-snippet {
            background-color: #293034;
        }
    }

</style>

<section class="mdx-container">
    <div class="md-grid md-typeset">
        <div class="mdx-hero">
            <div class="mdx-hero__image">
                <img alt="EcoLogits" src="../assets/logo_light.png">
            </div>
            <div class="mdx-hero__content">
                <h2 class="subtitle" style="font-weight: 500; padding-top: 1rem;">
                    Estimate and track the environmental footprint of GenAI models at inference
                </h2>
                <p class="md-team">Made with ðŸ’š by <a href="https://genai-impact.org/">GenAI Impact</a> non-profit</p>
            </div>
        </div>
    </div>
</section>

<section class="mdx-container">
    <div class="md-grid md-typeset">
        <div class="project-cards">
            <div class="project-card calculator">
                <div class="project-card-header">
                    <h3>EcoLogits Calculator</h3>
                </div>
                <div class="card-content">
                    <img src="../assets/calculator_screenshot.png" alt="Calculator Icon">
                    <p>For everyone, estimate the energy and impacts of simple requests. Visit <a href="https://huggingface.co/spaces/genai-impact/ecologits-calculator">calculator.ecologits.ai</a>.</p>
                </div>
            </div>
            <div class="project-card">
                <div class="project-card-header">
                    <h3>EcoLogits</h3>
                </div>
                <div class="card-content">
                    <p>For developers, track energy and impacts when using Python API clients. <a href="{{ '/' | url }}">Learn more</a>.</p>
                    <div class="code-snippet-container">
                        <div class="code-snippet">pip install ecologits</div>
                        <button class="copy-button" onclick="copyToClipboard(this)">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
            <div class="project-card">
                <div class="project-card-header">
                    <h3>EcoLogits API</h3>
                </div>
                <div class="card-content">
                    <p>Integrate environmental impact tracking directly into your AI infrastructure. <a href="{{ '/' | url }}">Explore documentation</a>.</p>
                    <div class="code-snippet-container">
                        <div class="code-snippet">coming soon</div>
<!--                        <button class="copy-button" onclick="copyToClipboard(this)">-->
<!--                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">-->
<!--                                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>-->
<!--                                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>-->
<!--                            </svg>-->
<!--                        </button>-->
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
function copyToClipboard(button) {
    const codeSnippet = button.previousElementSibling;
    const text = codeSnippet.textContent;

    navigator.clipboard.writeText(text).then(() => {
        button.innerHTML = `
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M20 6L9 17l-5-5"></path>
            </svg>
        `;

        setTimeout(() => {
            button.innerHTML = `
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                    <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                </svg>
            `;
        }, 2000);
    }).catch(err => {
        console.error('Failed to copy: ', err);
    });
}
</script>

{% endblock %}
{% block content %}{% endblock %}